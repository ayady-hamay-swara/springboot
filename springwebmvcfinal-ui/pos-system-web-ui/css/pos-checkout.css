/* ============================================================
   POS CHECKOUT CSS
   ============================================================ */
*, *::before, *::after { box-sizing: border-box; margin:0; padding:0; }

body { background:#eef2f7; font-family:'Segoe UI',sans-serif; overflow:hidden; }

/* ── NAVBAR ── */
.navbar-pos {
    height:50px; padding:0 12px;
    position:fixed; top:0; left:0; right:0; z-index:1000;
    display:flex; align-items:center; gap:4px;
}
.navbar-pos .navbar-brand { font-weight:700; font-size:17px; margin-right:4px; }
.navbar-pos .nav-link     { font-size:13px; padding:4px 10px !important; }

/* Nav icon buttons (Settings & Calc) */
.nav-icon-btn {
    background: rgba(255,255,255,.15);
    border: 1px solid rgba(255,255,255,.3);
    color: white;
    width: 34px; height: 34px;
    border-radius: 8px;
    font-size: 16px;
    cursor: pointer;
    transition: all .2s;
    display: flex; align-items:center; justify-content:center;
    flex-shrink: 0;
}
.nav-icon-btn:hover { background:rgba(255,255,255,.3); transform:scale(1.1); }
.nav-icon-btn.active { background:rgba(255,255,255,.35); border-color:white; }

/* ── POPUP PANELS (calculator & settings) ── */
.popup-backdrop {
    display: none;
    position: fixed; inset:0; background:rgba(0,0,0,.3); z-index:1090;
}
.popup-backdrop.show { display:block; }

.popup-panel {
    display: none;
    position: fixed;
    top: 58px; left: 12px;
    z-index: 1100;
    background: white;
    border-radius: 16px;
    box-shadow: 0 12px 40px rgba(0,0,0,.25);
    overflow: hidden;
    animation: popIn .2s ease;
}
.popup-panel.show { display:block; }
@keyframes popIn {
    from { opacity:0; transform:translateY(-10px) scale(.96); }
    to   { opacity:1; transform:translateY(0)   scale(1); }
}
.popup-header {
    display: flex; justify-content:space-between; align-items:center;
    padding: 12px 16px;
    background: #2E75B6; color: white;
    font-weight:700; font-size:14px;
}
.popup-close {
    background:none; border:none; color:white; font-size:18px;
    cursor:pointer; line-height:1; padding:0;
    transition:transform .15s;
}
.popup-close:hover { transform:scale(1.3); }

/* ── CALCULATOR ── */
#calcPanel { width: 280px;
  left: auto; right: 12px;  /* Align right */
 }

.calc-wrap { padding: 12px; }

.calc-display {
    background: #1a1a2e;
    border-radius: 10px;
    padding: 12px 16px;
    margin-bottom: 10px;
    min-height: 70px;

    display: flex; flex-direction:column; justify-content:flex-end; align-items:flex-end;
}
.calc-expr {
    font-size: 12px; color: #888;
    min-height: 16px; word-break:break-all;
       
}
.calc-result {
    font-size: 32px; font-weight:800; color: white;
    word-break: break-all;
        margin-left: 10px;
}

/* Button grid: 4 columns, row 5 has 0 spanning 2 */
.calc-grid {
    display: grid;
    grid-template-columns: repeat(4, 1fr);
    gap: 8px;
        margin-left: 10px;
}

.cb {
    padding: 0;
    height: 54px;
    border: none;
    border-radius: 10px;
    font-size: 18px;
    font-weight: 700;
    cursor: pointer;
    transition: all .1s;
    background: #f0f2f5;
    color: #333;
    user-select: none;
}
.cb:hover  { filter: brightness(.92); transform: scale(.97); }
.cb:active { filter: brightness(.84); transform: scale(.93); }

.cb-fn { background: #d0d9e8; color: #2c3e50; }
.cb-op { background: #2E75B6; color: white;   }
.cb-eq { background: #28a745; color: white; grid-column: span 2; }
.cb-zero { grid-column: span 2; border-radius:27px; text-align:left; padding-left:20px; }

.calc-use-btn {
    width: 100%; margin-top: 10px;
    padding: 9px;
    background: #28a745; color: white;
    border: none; border-radius: 10px;
    font-size: 13px; font-weight:700;
    cursor: pointer; transition: all .2s;
        margin-left: 10px;
}
.calc-use-btn:hover { background:#1e7e34; }

/* ── SETTINGS ── */
#settingsPanel { width: 300px; max-height: calc(100vh - 70px); overflow-y:auto; }

.settings-body { padding: 12px 16px 16px; }

.settings-section { margin-bottom: 14px; }
.settings-label {
    font-size: 12px; font-weight:700; color:#555;
    text-transform:uppercase; letter-spacing:.4px; margin-bottom:5px;
}
.settings-input {
    width:100%; padding:8px 12px; font-size:14px;
    border:2px solid #d0d9e8; border-radius:8px; outline:none;
    transition: border-color .2s;
}
.settings-input:focus { border-color:#2E75B6; }

/* Toggle switch */
.toggle-label { display:flex; align-items:center; gap:10px; cursor:pointer; }
.toggle-label input { display:none; }
.toggle-track {
    width:42px; height:24px; background:#ccc; border-radius:12px;
    position:relative; transition:background .2s; flex-shrink:0;
}
.toggle-track::after {
    content:''; position:absolute;
    width:18px; height:18px; background:white; border-radius:50%;
    top:3px; left:3px; transition:transform .2s;
    box-shadow: 0 1px 4px rgba(0,0,0,.3);
}
.toggle-label input:checked ~ .toggle-track { background:#2E75B6; }
.toggle-label input:checked ~ .toggle-track::after { transform:translateX(18px); }
.toggle-text { font-size:13px; font-weight:600; color:#555; }

.settings-save-btn {
    width:100%; padding:10px; margin-top:6px;
    background:#2E75B6; color:white; border:none;
    border-radius:10px; font-size:14px; font-weight:700;
    cursor:pointer; transition:all .2s;
}
.settings-save-btn:hover { background:#1a5fa0; }

/* ── POS WRAPPER ── */
.pos-wrapper {
    position:fixed; top:50px; left:0; right:0; bottom:0; padding:10px; overflow:hidden;
}
.pos-layout { display:flex; gap:10px; height:100%; }

/* ════ LEFT ════ */
.pos-left { flex:1; display:flex; flex-direction:column; gap:8px; min-width:0; }

.stats-bar {
    display:flex; gap:10px; background:white; border-radius:10px;
    padding:10px 16px; box-shadow:0 2px 8px rgba(0,0,0,.08);
    align-items:center; flex-shrink:0;
}
.stat-pill {
    display:flex; flex-direction:column; padding:4px 20px;
    border-right:1px solid #e0e0e0;
}
.stat-pill:last-child { border-right:none; }
.stat-lbl { font-size:11px; color:#888; font-weight:600; text-transform:uppercase; letter-spacing:.5px; }
.stat-val { font-size:18px; font-weight:800; color:#2E75B6; }

.search-row { display:flex; gap:10px; flex-shrink:0; }
.search-wrap { flex:1; position:relative; }
.search-icon { position:absolute; left:12px; top:50%; transform:translateY(-50%); font-size:16px; }
.search-input {
    width:100%; padding:10px 14px 10px 38px; font-size:15px;
    border:2px solid #d0d9e8; border-radius:10px; outline:none;
    transition:border-color .2s, box-shadow .2s; background:white;
}
.search-input:focus { border-color:#2E75B6; box-shadow:0 0 0 3px rgba(46,117,182,.12); }
.category-select {
    width:220px; flex-shrink:0; padding:10px 14px; font-size:14px;
    border:2px solid #d0d9e8; border-radius:10px; outline:none; background:white; cursor:pointer;
}
.category-select:focus { border-color:#2E75B6; }

/* Product results dropdown */
.product-results {
    position:absolute; top:calc(100% + 2px); left:0; right:0;
    background:white; border:2px solid #2E75B6;
    border-radius:0 0 10px 10px; z-index:500;
    max-height:260px; overflow-y:auto;
    box-shadow:0 8px 20px rgba(0,0,0,.15);
}
.prod-result-row {
    display:flex; justify-content:space-between; align-items:center;
    padding:10px 16px; cursor:pointer; border-bottom:1px solid #f0f0f0;
    transition:background .15s;
}
.prod-result-row:hover { background:#f0f5ff; }
.prod-result-name  { font-weight:600; font-size:14px; color:#333; }
.prod-result-meta  { font-size:12px; color:#888; }
.prod-result-price { font-weight:800; color:#2E75B6; font-size:14px; white-space:nowrap; margin-left:12px; }
.stock-ok  { color:#28a745; } .stock-low { color:#ffc107; } .stock-out { color:#dc3545; opacity:.6; pointer-events:none; }

/* Cart box */
.cart-box {
    flex:1; background:white; border-radius:12px;
    box-shadow:0 2px 10px rgba(0,0,0,.08);
    display:flex; flex-direction:column; overflow:hidden; min-height:0;
    border:2px solid #e0e8f0;
}
.cart-box-header {
    display:flex; justify-content:space-between; align-items:center;
    padding:10px 16px; background:#2c3e50; color:white;
    font-weight:700; font-size:14px; flex-shrink:0;
}
.cart-count { background:#e74c3c; color:white; font-size:11px; padding:2px 9px; border-radius:12px; margin-left:8px; }
.btn-clear-cart { background:none; border:1px solid rgba(255,255,255,.4); color:white; font-size:11px; padding:3px 10px; border-radius:6px; cursor:pointer; font-weight:600; }
.btn-clear-cart:hover { background:rgba(255,255,255,.15); }

.cart-table-head {
    display:grid; grid-template-columns:1fr 90px 120px 120px 40px;
    padding:8px 16px; background:#f8f9fa; border-bottom:2px solid #e0e0e0;
    font-size:12px; font-weight:700; color:#666; text-transform:uppercase; letter-spacing:.4px; flex-shrink:0;
}
.cart-table-body { flex:1; overflow-y:auto; padding:4px 0; }
.cart-table-body::-webkit-scrollbar { width:5px; }
.cart-table-body::-webkit-scrollbar-thumb { background:#ccc; border-radius:3px; }

.cart-empty { text-align:center; padding:40px; color:#aaa; font-size:15px; }

.cart-row {
    display:grid; grid-template-columns:1fr 90px 120px 120px 40px;
    padding:10px 16px; align-items:center; border-bottom:1px solid #f0f0f0; transition:background .15s;
}
.cart-row:hover { background:#f5f8ff; }
.col-name  { font-size:14px; font-weight:600; color:#333; }
.col-note  { font-size:11px; color:#888; margin-top:2px; }
.col-qty   { text-align:center; }
.col-price { text-align:right; font-size:13px; color:#555; }
.col-total { text-align:right; font-size:14px; font-weight:700; color:#2E75B6; }
.col-action{ text-align:center; }

.qty-ctrl { display:flex; align-items:center; justify-content:center; gap:4px; }
.q-btn {
    width:24px; height:24px; border-radius:50%; border:1.5px solid #ccc;
    background:white; font-size:15px; font-weight:700; line-height:1;
    cursor:pointer; display:flex; align-items:center; justify-content:center; transition:all .15s;
}
.q-btn:hover { background:#2E75B6; color:white; border-color:#2E75B6; }
.q-btn.minus:hover { background:#e74c3c; border-color:#e74c3c; }
.q-num { min-width:24px; text-align:center; font-weight:800; font-size:15px; }
.rm-btn { background:none; border:none; color:#dc3545; font-size:18px; cursor:pointer; line-height:1; padding:0; transition:transform .15s; }
.rm-btn:hover { transform:scale(1.3); }

/* Totals bar */
.totals-bar {
    display:flex; align-items:center; background:white; border-radius:10px;
    padding:10px 20px; box-shadow:0 2px 8px rgba(0,0,0,.08);
    flex-shrink:0; border:2px solid #e0e8f0; gap:0;
}
.total-item { flex:1; display:flex; align-items:center; gap:8px; padding-right:20px; border-right:1px solid #e0e0e0; }
.total-item:last-child { border-right:none; padding-right:0; }
.total-lbl { font-size:13px; color:#666; font-weight:600; white-space:nowrap; }
.total-val { font-size:16px; font-weight:800; color:#2c3e50; }
.total-final .total-val { font-size:22px; color:#28a745; }
.discount-item { gap:6px; }
.discount-input { width:55px; padding:4px 6px; font-size:14px; border:2px solid #d0d9e8; border-radius:6px; text-align:center; font-weight:700; }
.discount-input:focus { border-color:#2E75B6; outline:none; }

/* ════ RIGHT ════ */
.pos-right { width:280px; flex-shrink:0; display:flex; flex-direction:column; gap:8px; overflow-y:auto; }
.pos-right::-webkit-scrollbar { width:4px; }
.pos-right::-webkit-scrollbar-thumb { background:#ccc; border-radius:2px; }

.right-section { background:white; border-radius:12px; box-shadow:0 2px 8px rgba(0,0,0,.08); padding:12px 14px; border:1px solid #e8edf2; }
.right-section-title { font-size:12px; font-weight:700; color:#555; text-transform:uppercase; letter-spacing:.5px; margin-bottom:10px; display:flex; justify-content:space-between; align-items:center; }

.btn-change { background:none; border:1px solid #2E75B6; color:#2E75B6; font-size:11px; padding:2px 8px; border-radius:6px; cursor:pointer; font-weight:600; transition:all .15s; }
.btn-change:hover { background:#2E75B6; color:white; }
.cust-name   { font-size:15px; font-weight:700; color:#333; }
.cust-detail { font-size:12px; color:#888; margin-top:3px; }

/* ── CURRENCY CONVERTER ── */
.currency-total-row { display:flex; justify-content:space-between; align-items:center; margin-bottom:8px; }
.currency-lbl { font-size:12px; color:#888; font-weight:600; }
.currency-pos-total { font-size:14px; font-weight:800; color:#2E75B6; }

.currency-row { display:flex; align-items:center; gap:6px; margin-bottom:8px; }
.curr-select { flex:1; padding:6px 8px; font-size:12px; border:2px solid #d0d9e8; border-radius:8px; outline:none; background:white; cursor:pointer; }
.curr-select:focus { border-color:#2E75B6; }
.curr-arrow { font-size:16px; color:#2E75B6; font-weight:700; flex-shrink:0; }

.currency-input-row { display:flex; gap:6px; margin-bottom:8px; }
.curr-amount-input { flex:1; padding:7px 10px; font-size:14px; font-weight:70; border:2px solid #d0d9e8; border-radius:8px; outline:none; }
.curr-amount-input:focus { border-color:#2E75B6; }
.curr-convert-btn { padding:7px 12px; background:#2E75B6; color:white; border:none; border-radius:8px; font-size:12px; font-weight:700; cursor:pointer; white-space:nowrap; transition:all .15s; }
.curr-convert-btn:hover { background:#1a5fa0; }

.currency-result { background:#f0f5ff; border-radius:8px; padding:8px 12px; font-size:15px; font-weight:800; color:#28a745; text-align:center; min-height:36px; display:flex; align-items:center; justify-content:center; }
.curr-rate-row { font-size:11px; color:#888; text-align:center; margin-top:5px; }

/* Payment */
.payment-btns { display:flex; gap:6px; margin-bottom:10px; }
.pay-btn { flex:1; padding:7px 4px; border:2px solid #d0d9e8; border-radius:8px; background:white; font-size:11px; font-weight:700; cursor:pointer; transition:all .2s; color:#555; }
.pay-btn:hover, .pay-btn.active { background:#2E75B6; border-color:#2E75B6; color:white; }
.cash-section { margin-top:4px; }
.cash-label   { font-size:12px; font-weight:700; color:#555; display:block; margin-bottom:4px; }
.cash-input   { width:100%; padding:8px 12px; font-size:16px; font-weight:700; border:2px solid #d0d9e8; border-radius:8px; outline:none; margin-bottom:8px; transition:border-color .2s; }
.cash-input:focus { border-color:#2E75B6; }
.change-row   { display:flex; justify-content:space-between; align-items:center; background:#e8f5e9; border-radius:8px; padding:7px 12px; font-weight:700; font-size:13px; color:#28a745; }
.change-val   { font-size:15px; }

/* Action buttons */
.action-section { flex:1; display:flex; flex-direction:column; gap:8px; }
.btn-complete { width:100%; padding:16px; font-size:17px; font-weight:800; border:none; border-radius:12px; background:linear-gradient(135deg,#27ae60,#2ecc71); color:white; cursor:pointer; letter-spacing:.3px; box-shadow:0 4px 15px rgba(39,174,96,.4); transition:all .2s; }
.btn-complete:hover { transform:translateY(-2px); box-shadow:0 7px 20px rgba(39,174,96,.5); }
.btn-row-2 { display:flex; gap:8px; }
.btn-hold   { flex:1; padding:10px; font-size:14px; font-weight:700; border:2px solid #333; border-radius:10px; background:white; color:#333; cursor:pointer; transition:all .2s; }
.btn-hold:hover   { background:#333; color:white; }
.btn-cancel { flex:1; padding:10px; font-size:14px; font-weight:700; border:2px solid #dc3545; border-radius:10px; background:white; color:#dc3545; cursor:pointer; transition:all .2s; }
.btn-cancel:hover { background:#dc3545; color:white; }
.btn-return { width:100%; padding:10px; font-size:14px; font-weight:700; border:2px solid #2E75B6; border-radius:10px; background:white; color:#2E75B6; cursor:pointer; transition:all .2s; }
.btn-return:hover { background:#2E75B6; color:white; }

/* Receipt */
.receipt-body { font-family:'Courier New',monospace; font-size:13px; }
.receipt-header { text-align:center; margin-bottom:10px; }
.receipt-divider { border-top:1px dashed #ccc; margin:8px 0; }
.receipt-row { display:flex; justify-content:space-between; padding:2px 0; font-size:13px; }
.receipt-total { font-weight:700; font-size:15px; }

/* Customer list */
.cust-row { padding:10px 12px; border-radius:8px; cursor:pointer; border-bottom:1px solid #f0f0f0; transition:background .15s; }
.cust-row:hover { background:#f0f5ff; }
.cust-row strong { font-size:14px; display:block; }
.cust-row small  { color:#888; }

/* Responsive */
@media(max-width:768px){
    body { overflow:auto; }
    .pos-wrapper { position:relative; top:50px; height:auto; }
    .pos-layout { flex-direction:column; height:auto; }
    .pos-right { width:100%; }
    .cart-table-head { display:none; }
    .cart-row { grid-template-columns:1fr auto auto auto; gap:6px; }
    .col-price { display:none; }
}